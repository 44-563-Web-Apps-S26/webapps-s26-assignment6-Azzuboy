<!DOCTYPE html>
<html>
<head>
  <title>Progressive Tax Table Computation</title>
</head>
<body>

<h2>Ajay Reddy tax table computation</h2>

<form>
  <label for="income">Enter income</label>
  <input type="number" id="income" name="income" value="5000"> <br>

  <label for="baseRate">Enter the base tax rate</label>
  <input type="number" id="baseRate" name="baseRate" value="0.05" step="0.01"> <br>

  <label for="cutoff">Enter the cut off</label>
  <input type="number" id="cutoff" name="cutoff" value="7500"> <br>

  <label for="extRate">Enter the extended rate</label>
  <input type="number" id="extRate" name="extRate" value="0.15" step="0.01"> <br>

  <input type="button" value="Show tax table" onclick="doTax()">
</form>

<form>
  <input type="radio" id="op_power" name="mathOp" value="exponent" onclick="chooseOp()" checked>
  <label for="op_power">power</label> <br>

  <input type="radio" id="op_sum" name="mathOp" value="add" onclick="chooseOp()">
  <label for="op_sum">sum</label> <br>

  <input type="radio" id="op_mod" name="mathOp" value="mod" onclick="chooseOp()">
  <label for="op_mod">mod</label> <br>
</form>

<p id="taxResult">Taxes are:</p>
<p id="opResult">Operation result will appear here.</p>

<script>
function doTax() {
  const income = Number(document.getElementById("income").value);
  const cutoff = Number(document.getElementById("cutoff").value);
  const baseRate = Number(document.getElementById("baseRate").value);
  const extRate = Number(document.getElementById("extRate").value);

  let taxTable = "";

  for (let i = 1; i <= 5; i += 1) {
    const incomeLevel = i * income;
    let tax;

    if (incomeLevel <= cutoff) {
      tax = incomeLevel * baseRate;
    } else {
      tax = (cutoff * baseRate) + ((incomeLevel - cutoff) * extRate);
    }

    taxTable += "incomeLevel " + incomeLevel + " is " + tax + "; ";
  }

  document.getElementById("taxResult").innerHTML = "Taxes are: " + taxTable;
}

function chooseOp() {
  const income = Number(document.getElementById("income").value);
  const baseRate = Number(document.getElementById("baseRate").value);

  const powerChecked = document.getElementById("op_power").checked;
  const sumChecked = document.getElementById("op_sum").checked;
  const modChecked = document.getElementById("op_mod").checked;

  let resultText = "";

  if (powerChecked) {
    const value = Math.pow(income, baseRate);
    resultText = income + " ^ " + baseRate + " is " + value;
  } else if (sumChecked) {
    const value = income + baseRate;
    resultText = income + " + " + baseRate + " is " + value;
  } else if (modChecked) {
    const value = income % baseRate;
    resultText = income + "%" + baseRate + " is " + value;
  }

  document.getElementById("opResult").innerHTML = resultText;
}
</script>

</body>
</html>
