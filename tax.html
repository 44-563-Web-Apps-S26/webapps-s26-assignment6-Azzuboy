<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Progressive Tax Table Computation</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-9">
        <div class="card shadow-sm mb-4">
          <div class="card-body p-4">
            <h2 class="mb-4">Ajay Reddy tax table computation</h2>

            <form class="row g-3">
              <div class="col-md-6">
                <label for="income" class="form-label">Enter income</label>
                <input type="number" id="income" name="income" value="5000" class="form-control">
              </div>

              <div class="col-md-6">
                <label for="baseRate" class="form-label">Enter the base tax rate</label>
                <input type="number" id="baseRate" name="baseRate" value="0.05" step="0.01" class="form-control">
              </div>

              <div class="col-md-6">
                <label for="cutoff" class="form-label">Enter the cut off</label>
                <input type="number" id="cutoff" name="cutoff" value="7500" class="form-control">
              </div>

              <div class="col-md-6">
                <label for="extRate" class="form-label">Enter the extended rate</label>
                <input type="number" id="extRate" name="extRate" value="0.15" step="0.01" class="form-control">
              </div>

              <div class="col-12">
                <input type="button" value="Show tax table" onclick="doTax()" class="btn btn-success">
              </div>
            </form>
          </div>
        </div>

        <div class="card shadow-sm mb-4">
          <div class="card-body p-4">
            <h5 class="mb-3">Choose operation</h5>
            <form>
              <div class="form-check">
                <input type="radio" id="op_power" name="mathOp" value="exponent" onclick="chooseOp()" checked class="form-check-input">
                <label for="op_power" class="form-check-label">power</label>
              </div>

              <div class="form-check">
                <input type="radio" id="op_sum" name="mathOp" value="add" onclick="chooseOp()" class="form-check-input">
                <label for="op_sum" class="form-check-label">sum</label>
              </div>

              <div class="form-check mb-3">
                <input type="radio" id="op_mod" name="mathOp" value="mod" onclick="chooseOp()" class="form-check-input">
                <label for="op_mod" class="form-check-label">mod</label>
              </div>
            </form>

            <div id="taxResult" class="alert alert-info mb-2">Taxes are:</div>
            <div id="opResult" class="alert alert-secondary mb-0">Operation result will appear here.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
function doTax() {
  const income = Number(document.getElementById("income").value);
  const cutoff = Number(document.getElementById("cutoff").value);
  const baseRate = Number(document.getElementById("baseRate").value);
  const extRate = Number(document.getElementById("extRate").value);

  let taxTable = "";

  for (let i = 1; i <= 5; i += 1) {
    const incomeLevel = i * income;
    let tax;

    if (incomeLevel <= cutoff) {
      tax = incomeLevel * baseRate;
    } else {
      tax = (cutoff * baseRate) + ((incomeLevel - cutoff) * extRate);
    }

    taxTable += "incomeLevel " + incomeLevel + " is " + tax + "; ";
  }

  document.getElementById("taxResult").innerHTML = "Taxes are: " + taxTable;
}

function chooseOp() {
  const income = Number(document.getElementById("income").value);
  const baseRate = Number(document.getElementById("baseRate").value);
  const selectedOp = document.querySelector('input[name="mathOp"]:checked');
  const out = document.getElementById("opResult");

  if (!selectedOp || Number.isNaN(income) || Number.isNaN(baseRate)) {
    out.innerHTML = "Enter valid values for income and baseRate.";
    return;
  }

  let value;
  let resultText;

  switch (selectedOp.value) {
    case "exponent":
      value = Math.pow(income, baseRate);
      resultText = income + " ^ " + baseRate + " is " + value;
      break;
    case "add":
      value = income + baseRate;
      resultText = income + " + " + baseRate + " is " + value;
      break;
    case "mod":
      if (baseRate === 0) {
        resultText = income + "%" + baseRate + " is undefined";
      } else {
        value = income % baseRate;
        resultText = income + "%" + baseRate + " is " + value;
      }
      break;
    default:
      resultText = "Select an operation.";
  }

  out.innerHTML = resultText;
}

window.onload = chooseOp;
</script>

</body>
</html>
